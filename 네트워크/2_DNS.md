## DNS란?

DNS(Domain Name System)는 인터넷에서 사용되는 네트워크 서비스로, 사람이 이해하기 쉬운 도메인 이름(예: www.example.com)과 컴퓨터가 이해하는 IP 주소(예: 192.0.2.1)를 매핑하는 시스템입니다. DNS는 사용자가 도메인 이름을 입력하면 해당 도메인 이름에 대응하는 IP 주소를 찾아주는 역할을 합니다.

인터넷에서 컴퓨터나 네트워크 기기들은 IP 주소를 사용하여 서로 통신합니다. 하지만 IP 주소는 일련의 숫자로 이루어져 있어서 사람이 기억하고 입력하기 어렵습니다. 따라서 사람들은 도메인 이름을 사용하여 웹 사이트에 접속하거나 이메일을 보내는 등의 활동을 합니다.

`DNS는 이러한 도메인 이름과 IP 주소 사이의 매핑을 제공`하여, 사용자가 도메인 이름을 입력하면 해당 도메인 이름에 대응하는 IP 주소를 찾아주는 역할을 수행합니다. DNS 서버들이 전 세계적으로 분산되어 있으며, 도메인 이름과 IP 주소의 매핑 정보를 저장하고 관리합니다.

도메인: 문자열의 탈을 쓴 IP

**[ 키워드 : 매핑 시스템 ]**

## DNS 작동 방식

1. 사용자가 도메인 이름을 입력합니다.
   - 예를 들어, 사용자가 웹 브라우저에 "www.example.com"과 같은 도메인 이름을 입력합니다.
2. 브라우저 캐시, OS 캐시, 라우터 캐시 확인
3. 로컬 DNS 캐시 확인
   - 웹 브라우저는 로컬 DNS 클라이언트 역할을 수행하여, **먼저 로컬 DNS 캐시를 확인**합니다.로컬 DNS 캐시에는 최근에 이용한 도메인 이름과 해당 도메인 이름에 대응하는 IP 주소 정보가 저장되어 있습니다.이전에 동일한 도메인 이름에 접속했던 기록이 있다면 로컬 DNS 캐시에서 바로 해당 IP 주소를 찾을 수 있습니다.
4. **로컬 네트워크의 DNS 서버 질의:**
   - **로컬 DNS 캐시에 해당 정보가 없는 경우, 웹 브라우저는 로컬 네트워크에 설정된 DNS 서버로 질의(Query)를 보냅니다. 로컬 네트워크의 DNS 서버는 도메인 이름에 대응하는 IP 주소 정보를 가지고 있는지 확인하기 위해 다른 DNS 서버들과 질의를 주고받습니다.**
5. **루트 DNS 서버 질의:**
   - **로컬 네트워크의 DNS 서버도 해당 정보가 없는 경우, 루트 DNS 서버에 질의를 보내게 됩니다.루트 DNS 서버는 인터넷의 최상위 도메인(.com, .org 등)의 DNS 서버 주소를 알려줍니다.**
6. **중간 DNS 서버 질의:**
   - **로컬 네트워크의 DNS 서버는 루트 DNS 서버로부터 얻은 최상위 도메인(.com, .org 등)의 DNS 서버에 다시 질의를 보냅니다.이 과정이 계층적으로 반복되며, 최종적으로 해당 도메인 이름에 대응하는 IP 주소를 찾습니다.**
7. IP 주소 반환:
   - DNS 서버들은 계층적으로 도메인 이름을 분석하여 **`최종적으로 해당 도메인 이름에 대응하는 IP 주소를 찾아 반환`**합니다.
8. 웹 브라우저 요청:
   - 웹 브라우저는 받은 IP 주소를 사용하여 해당 웹 서버에 요청을 보내고 웹 페이지를 받아옵니다.이후, 해당 도메인 이름과 IP 주소의 매핑 정보는 로컬 DNS 캐시에 저장되어 다음에 동일한 도메인에 접속할 때 빠르게 IP 주소를 찾을 수 있도록 합니다.

## DNS 질의 종류에 대해 설명해주세요.

DNS(Domain Name System)에서는 다양한 질의 종류가 있으며, 각각의 질의 종류에 따라 다른 정보를 얻을 수 있습니다. 일반적으로 가장 많이 사용되는 네 가지 주요 질의 종류는 다음과 같습니다:

- `A 질의` (Address Record Query):
  A 질의는 도메인 이름에 대응하는 IPv4 주소를 찾기 위해 사용됩니다.
  예를 들어, "www.example.com"에 대한 A 질의를 하면 해당 도메인 이름에 대응하는 IPv4 주소를 반환합니다.
- `AAAA 질의` (IPv6 Address Record Query):
  AAAA 질의는 도메인 이름에 대응하는 IPv6 주소를 찾기 위해 사용됩니다.
  IPv6는 IPv4보다 더 긴 주소 체계를 사용하므로, AAAA 질의를 통해 IPv6 주소를 얻을 수 있습니다.
- `CNAME 질의` (Canonical Name Record Query):
  CNAME 질의는 도메인 이름에 대해 다른 도메인 이름(CNAME)을 찾기 위해 사용됩니다.
  CNAME은 도메인 이름을 다른 도메인 이름으로 매핑하는데 사용되며, 도메인 이름의 별칭을 설정하는 데 유용합니다.
- `MX 질의` (Mail Exchanger Record Query):
  MX 질의는 도메인 이름에 대응하는 메일 서버의 정보를 찾기 위해 사용됩니다.
  이 정보를 사용하여 해당 도메인 이름으로 이메일을 보낼 때 메일이 전달될 서버를 확인할 수 있습니다.
  ## DNS 서버에게 IP 주소를 요청할 때, 왜 UDP를 사용하나요?
  TCP 와 UDP는 **신뢰성 vs 신속성** 의 특징을 놓고 tcp와 udp를 이용하는 서비스 들이 갈립니다.
  TCP는 - HTTP, Email, FIle transfer
  UDP는 - DNS, Broadcasting
  UDP는 트랜스포트 계층 프로토콜이 할 수 있는 **최소 기능**으로 동작합니다. 즉, 다중화/역다중화 기능과 간단한 오류 검사 기능을 제외하면 IP에 아무것도 추가하지 않습니다. 그래서 애플리케이션 개발자가 TCP대신에 UDP를 선택한다면 애플리케이션은 거의 IP와 직접 통신하는 것입니다.
  > tcp에 비해 다음과 같은 특징을 갖고 있기에 DNS 서비스가 사용하기 적합합니다.
  - 연결의 시작 과 끝 설정이 없다는 점, 만약 dns가 tcp위에서 동작한다면 많이 느려질 것입니다. 반면 http문서로 된 웹페이지는 신뢰성이 중요하기 때문에 udp보다 tcp를 사용합니다.
  - **dns: 신뢰성<속도웹페이지: 신뢰성>속도**
  - tcp 는 데이터 전송을 시작하기 전에 3-way-handshake를 사용하는 반면에 udp는 형식적인 예비동작이 없습니다. 따라서 **연결 설정에 드는 비용이 없습니다.**
  - udp는 어떠한 정보도 기록하지 않고 유지할 필요가 없습니다. **도메인 네임을 ip로 변경함으로 항상 많은 클라이언트를 수용하는 dns 서버에게는 연결상태를 유지 하지 않아 정보 기록을 최소화 하는 udp가 알맞습니다.**
  - 따라서 특정 애플리케이션에 할당된 서버는 애플리케이션이 tcp보다 udp에서 동작할 때 **더 많은 클라이언트를 수용**할 수 있습니다.
  - TCP는 end point에서 연결 상태를 유지하며 다음과 같은 파라미터들이 포함된다. ->(수신버퍼, 송신버퍼, congestion control 파라미터, sequence number, ACK number)
    **[ 키워드 : UDP의 신속성, 많은 클라이언트 수용, 속도 ]**
  ## DNS 레코드
  > DNS에 받은 요청을 어떻게 처리할 것인지에 대한 정보
  > DNS 레코드(DNS Record)는 DNS 서버가 해당 패킷을 받았을 때 어떤식으로 처리할지를 나타내는 *지침*을 말합니다. 간단히 말하면 DNS 상에서 도메인에 관한 설정을 하기 위해 사용되는 일련의 설정 문자라고 보면 됩니다. DNS 레코드에는 서버가 요청에 응답하는 방법에 대한 다양한 구문과 명령이 포함되어 있습니다.
  > [ 키워드 : ]
