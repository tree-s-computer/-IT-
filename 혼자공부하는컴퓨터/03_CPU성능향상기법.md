# 클럭 속도

클럭 : 컴퓨터의 모든 부품을 일사불란하게 움직일 수 있게 하는 시간 단위
클럭 속도는 헤르츠 단위로 측정한다.
클럭 신호가 빠르게 반복되면 CPU 를 비롯한 컴퓨터 부품들은 그만큼 빠른 박자에 맞춰 움직인다.
실제로 클럭 속도가 높은 CPU 는 일반적으로 성능이 좋다.

하지만 클럭 속도를 무작정 높이면 발열 문제가 심각해진다.

# 코어와 멀티코어

CPU의 코어와 스레드 수를 늘리는 방법

## 코어란 ?

우리가 지금까지 CPU 정의로 알고 있었던 '명령어를 실행하는 부품'은 오늘날 코어 라는 용어로 사용된다.
코어를 여러 개 포함하고 있는 CPU 를 멀티코어 CPU 또는 멀티코어 프로세서 라고 부른다.

# 스레드와 멀티 스레드

## 스레드

스레드의 사전적 의미는 실행 흐름의 단위이다.
CPU 에서 사용되는 스레드와 프로그래밍에서 사용되는 스레드는 용례가 다르다.
스레드는 CPU 에서 사용되는 하드웨어적 스레드, 프로그래밍에서 사용되는 소프트웨어적 스레드가 있다.

## 하드웨어적 스레드

스레드를 하드웨어적으로 정의하면 '하나의 코어가 동시에 처리하는 명령어 단위'를 의미한다.
멀티 스레드 프로세스란 여러 개의 하드웨어적 스레드를 지원하는 CPU 를 말한다.

## 소프트웨어적 스레드

하나의 프로그래밍에서 독립적으로 실행되는 단위

# 명령어 병렬 처리 기법

## 명령어 파이프 라인

1. 명령어 인출
2. 명령어 해석
3. 명령어 해석
4. 결과 저장

여기서 중요한 점은 같은 단계가 겹치지만 않는다면 CPU 는 '각 단계를 동시에 실행할 수 있다'는 것이다.
이처럼 마치 공장 생산 라인과 같은 명령어들은 명령어 파이프라인에 넣고, 동시에 처리하는 기법을 명령어 파이프라이닝 이라고 한다.

# 파이프 라인 위험

### 데이터 위험

데이터 위험은 명령어 간 '데이터 의존성'에 의해 발생한다.
모든 명령어를 동시에 처리할 수 없다. 어떤 명령어는 이전 명령어를 끝까지 실행해야만 비로소 실행할 수 있는 경우도 있다.

### 제어 위험

주로 분기 등으로 인한 프로그램의 카운터의 갑작스러운 변화에 의해 발생한다.
기본적으로 프로그램 카운터는 현재 실행중인 명령어의 다음 주소로 갱신된다.
하지만 프로그램 *실행 흐름*이 바뀌어 명령어가 실행되면서 프로그램 카운터 값에 갑작스러운 변화가 생긴다면,
명령어 파이프라인에 미리 가지고 와서 처리중이었던 명령어들은 아무 쓸모가 없어진다.

### 구조적 위험

구조적 위험은 명령어들을 겹쳐 실행하는 과정에서 서로 다른 명령어가 동시에 ALU, 레지스터 등과 같은 CPU 부품을 사용하려고 할 때 발생한다.
